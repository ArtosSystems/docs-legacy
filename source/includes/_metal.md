# METaL

METaL is our protocol-level interface client allowing specified users to create and manage events, tickets and links on the Aventus Protocol. It provides a simple front end reference interface for users not willing to directly integrate with the API layer outlined above.

Most of the functionality is formatting data correctly to be ingested by our endpoints, and in turn, the Protocol, in the form of events and tickets. It does also allows users to distribute ticket links via email and generate a final doorlist of all valid ticket holders for access control purposes.

## Ticket Links

In the Aventus ecosystem - a ticket consists of specific pieces of data; some unique data used to identify and reference the ticket, and some metadata used by reference applications like the ticket wallet.

In this instance, before tickets are written to the blockchain (either via Modest or directly) they exist in a preliminary stage as a hyperlink created by METaL to be loaded (or claimed) by a ticket wallet. Here we'll define a ticket as generated by METaL.

Parameter | Type | Description
--------- | ------- | -----------
eventId* | string | a unique identifier used to reference an Event on the Aventus Protocol
vendorReference* | string | a unique identifier used to tie an Event to a Vendor
email | string | metadata: customer email address used for link delivery
payload | string | metadata: information used by the ticket wallet UI, provided by METaL
secret | string | metadata: secret data used for verifying access control, provided by METaL
link | string | metadata: the hyperlink generated by METaL containing all of the necessary information for the ticket wallet
status | string | metadata: identifier used by METaL to determine the current status of a ticket link

<aside class="notice">
* indicates a required field
</aside>

> Sample Response: The following is the expected response when creating a new ticket via METaL

```JSON
{
    "vendorReference": "ref 1543005210191",
    "eventId": "3",
    "payload": "payload",
    "email": "customer2@aventus.io",
    "secret": "7b52931c-e1a9-4b7d-bf06-c2f0d9562d3a",
    "link": "artos.ticketwallet://+?payload=W3siZXZlbnRJZCI6IjUiLCJ0aWNrZXRSZWZlcmVuY2UiOiJyZWYgMTU0MzAwNTIxMDE5MSIsInBheWxvYWQiOiJ7c29tZVN0dWZmV2hhdGV2ZXJGb3JtYXRQYXlsb2FkfSIsImRhdGFTaWduYXR1cmUiOiIweDE2MGRlMjIzNDc1NmY0MWNlYzU1MDZmNGZjZWUxZTg3MTUzNmYwZmI3YWVlN2EyMDE4ZmJjODdjOWRhNzNiZmM3Zjg5ZDQ0MDA2ZDAzN2Y5YmEzZTc0NmIxNDIzMTJiNWU5Nzc1MTRkZDAwNjlhNDUwODdlNDRmZGY1Y2VhNmM2MDEiLCJzZWNyZXQiOiJNeSBhbWF6aW5nIHNlY3JldCIsInNlY3JldFNpZ25hdHVyZSI6IjB4YzY5MWUyMTdhOTZlNGVhZTQ5MDhmYzM4MjlmNGVmNDk0MDBlNDc1MGIxNzZmMWJiMDhlYWE3MjM2NTkzOTJjNDY3NTZhMGMzODQ0Yzk0NTEwZTkxNDdjYjllZDhiOWY0Yjc2MGJlZGM2YjZiNTJhOWM0MTMyMDA5ODAyNTk1YjMwMCJ9XQ==",
    "status": "sent"
},
```

As shown in the above table, the required fields eventId and vendorReference as a combination make a ticket unique, allowing it to be properly referenced.

It is important to note that the metadata of a ticket is not limited to what is outlined above, this is only what our reference client METaL is utilising. Just ensure whatever client you build understands the JSON object structure as shown in the sample response.
